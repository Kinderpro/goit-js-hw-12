import{a as g,i as d,S as y}from"./assets/vendor-eded45c0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();function l(n){return n.map(({webformatURL:t,largeImageURL:s,tags:a,likes:e,views:o,comments:i,downloads:f})=>`<li class="card">
        <a href="${s}"><img class="img-card" src="${t}" alt="${a}" title="${a}" ></a>
        <div class="description"><p>Likes: ${e}</p> <p>Views: ${o}</p>
        <p>Comments: ${i}</p>
        <p>Downloads: ${f}</p></li>
   </div>`).join("")}let m=15;const h="42801696-74e6805803c5f99662f25fde0";async function u(n,t=1){const s="https://pixabay.com/api/",a=new URLSearchParams({key:h,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:m});try{const{data:e}=await g.get(`${s}?${a}`);return e}catch(e){console.error(e)}}let c=1,L=document.querySelector("ul");const r={formEl:document.querySelector(".form-search"),gallery:document.querySelector(".gallery"),loader:document.querySelector(".loader"),readMore:document.querySelector(".read-more")};r.formEl.addEventListener("submit",S);async function S(n){n.preventDefault(),c=1,r.readMore.classList.add("loader-none");const t=n.target[0].value.trim();localStorage.setItem("nameImg",JSON.stringify(t));const s=localStorage.getItem("nameImg"),a=JSON.parse(s);r.loader.classList.remove("loader-none"),r.gallery.innerHTML="";try{const e=await u(a,c);if(e.totalHits<m){r.readMore.classList.add("loader-none"),r.loader.classList.add("loader-none"),d.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topCenter"}),r.gallery.innerHTML=l(e.hits);return}l(e.hits)==[]?(r.loader.classList.add("loader-none"),r.readMore.classList.add("loader-none"),d.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",position:"topCenter"}),this.reset()):(r.readMore.addEventListener("click",M),r.loader.classList.add("loader-none"),r.readMore.classList.remove("loader-none"),r.gallery.innerHTML=l(e.hits),p.refresh(),this.reset())}catch(e){console.log(e)}}async function M(){const n=JSON.parse(localStorage.getItem("nameImg"));r.loader.classList.remove("loader-none"),r.readMore.classList.add("loader-none"),c+=1;try{const t=await u(n,c);r.gallery.insertAdjacentHTML("beforeend",l(t.hits)),r.gallery.insertAdjacentHTML("beforeend",l(t.hits));let s=L.getBoundingClientRect();window.scrollBy({top:s.bottom*2,left:s.x*2,behavior:"smooth"}),r.loader.classList.add("loader-none"),p.refresh(),r.readMore.classList.remove("loader-none");const a=Math.ceil(t.totalHits/m);c>=a&&(r.readMore.classList.add("loader-none"),d.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topCenter"}))}catch(t){console.log(t)}}let p=new y(".gallery a",{animationSpeed:1e3,captionDelay:250,captionsData:"alt",captionPosition:"bottom",captionText:"description",history:!1,swipeClose:!0,close:!0});
//# sourceMappingURL=commonHelpers.js.map
