import{i as d,S as g,a as h}from"./assets/vendor-eded45c0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();function c(n){return n.map(({webformatURL:t,largeImageURL:s,tags:a,likes:e,views:o,comments:i,downloads:f})=>`<li class="card">
        <a href="${s}"><img class="img-card" src="${t}" alt="${a}" title="${a}" ></a>
        <div class="description"><p>Likes: ${e}</p> <p>Views: ${o}</p>
        <p>Comments: ${i}</p>
        <p>Downloads: ${f}</p></li>
   </div>`).join("")}let l,m=15;const y="42801696-74e6805803c5f99662f25fde0";let L=document.querySelector("ul");const r={formEl:document.querySelector(".form-search"),gallery:document.querySelector(".gallery"),loader:document.querySelector(".loader"),readMore:document.querySelector(".read-more")};r.formEl.addEventListener("submit",S);async function S(n){n.preventDefault(),l=1,r.readMore.classList.add("loader-none");const t=n.target[0].value;localStorage.setItem("nameImg",JSON.stringify(t));const s=localStorage.getItem("nameImg"),a=JSON.parse(s);r.loader.classList.remove("loader-none"),r.gallery.innerHTML="",await u(a).then(e=>{c(e.hits)==[]?(r.loader.classList.add("loader-none"),r.readMore.classList.add("loader-none"),d.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",position:"topCenter"}),this.reset()):(r.readMore.addEventListener("click",M),r.loader.classList.add("loader-none"),r.readMore.classList.remove("loader-none"),r.gallery.innerHTML=c(e.hits),p.refresh(),this.reset())}).catch(e=>{r.loader.classList.add("loader-none"),console.log(e)})}async function M(){const n=JSON.parse(localStorage.getItem("nameImg"));r.loader.classList.remove("loader-none"),r.readMore.classList.add("loader-none"),l+=1,await u(n).then(t=>{r.gallery.insertAdjacentHTML("beforeend",c(t.hits));let s=L.getBoundingClientRect();window.scrollBy({top:s.bottom*2,left:s.x*2,behavior:"smooth"}),r.loader.classList.add("loader-none"),p.refresh(),r.readMore.classList.remove("loader-none");const a=Math.ceil(t.totalHits/m);l>=a&&(r.readMore.classList.add("loader-none"),d.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topCenter"}))}).catch(t=>{console.log(t)})}let p=new g(".gallery a",{animationSpeed:1e3,captionDelay:250,captionsData:"alt",captionPosition:"bottom",captionText:"description",history:!1,swipeClose:!0,close:!0});async function u(n){const t="https://pixabay.com/api/",s=new URLSearchParams({key:y,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:m});try{return(await h.get(`${t}?${s}`)).data}catch(a){console.error(a)}}
//# sourceMappingURL=commonHelpers.js.map
